!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("seamless-immutable"),require("events"),require("rxjs"),require("cuid"),require("react-redux-loading-bar"),require("recompose"),require("hoist-non-react-statics"),require("isomorphic-fetch"),require("react-dom"),require("react-redux"),require("react-router"),require("react-router-redux"),require("redux-promise-middleware"),require("redux-thunk")):"function"==typeof define&&define.amd?define(["react","seamless-immutable","events","rxjs","cuid","react-redux-loading-bar","recompose","hoist-non-react-statics","isomorphic-fetch","react-dom","react-redux","react-router","react-router-redux","redux-promise-middleware","redux-thunk"],t):"object"==typeof exports?exports.damoCore=t(require("react"),require("seamless-immutable"),require("events"),require("rxjs"),require("cuid"),require("react-redux-loading-bar"),require("recompose"),require("hoist-non-react-statics"),require("isomorphic-fetch"),require("react-dom"),require("react-redux"),require("react-router"),require("react-router-redux"),require("redux-promise-middleware"),require("redux-thunk")):e.damoCore=t(e.react,e["seamless-immutable"],e.events,e.rxjs,e.cuid,e["react-redux-loading-bar"],e.recompose,e["hoist-non-react-statics"],e["isomorphic-fetch"],e["react-dom"],e["react-redux"],e["react-router"],e["react-router-redux"],e["redux-promise-middleware"],e["redux-thunk"])}(this,function(e,r,n,o,i,s,c,u,a,f,l,p,h,d,b){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};if(!r)throw new Error("需要提供model的require.context的遍历列表！");return m(e,t,function(e){var t=n()||{};r.keys().forEach(function(e){t[e.split("/").pop().split(".")[0]]=r(e)});var o=r.id,i=void 0;return e&&(i=function(){var e=n()||{};return r.keys().forEach(function(t){e[t.split("/").pop().split(".")[0]]=r(t)}),{Models:e}}),{Models:t,hotAcceptId:o,hotModelsFeedback:i}})}function i(e){if(!e)throw new Error("需要提供service的require.context的遍历列表！");var t={};e.keys().forEach(function(r){t[r.split("/").pop().split(".")[0]]=e(r)}),c.rcInject.setService(t)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(!e)throw new Error("需要提供scene的require.context的遍历列表！");var r=[];return e.keys().sort(function(e,t){return e.split("/").length>t.split("/").length}).forEach(function(n){var o=n.slice(2,-10).split(v.default.sep),i=e(n),s=void 0,c=void 0,u=void 0,a=void 0,f=void 0;if(1===o.length)c={name:o[0],path:i.routePath,component:i,onLeave:i.onLeave,onEnter:i.onEnter},t(c,n)!==!1&&r.push(c);else{a=o.pop(),f=r;for(var l=void 0;(s=o.shift())&&(u=f.find(function(e){return e.name===s}));)l=u,f=l.childRoutes||[];l?(l.childRoutes=l.childRoutes||[],c={name:a,path:i.routePath,component:i,onLeave:i.onLeave,onEnter:i.onEnter},t(c,n)!==!1&&l.childRoutes.push(c)):(c={name:a,navKey:s,path:i.routePath,component:i,onLeave:i.onLeave,onEnter:i.onEnter},t(c,n)!==!1&&r.push(c))}}),r}Object.defineProperty(t,"__esModule",{value:!0}),t.RxComponent=t.RxSelector=t.configureStore=void 0;var c=r(16);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var u=r(2);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var a=r(69);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var f=r(9);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})});var l=r(7);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})});var p=r(30);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})});var h=r(8);Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})});var d=r(10);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})});var b=r(63);Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}})}),t.autoLoadStore=o,t.autoLoadServices=i,t.autoLoadScenesRoutes=s;var y=r(72),v=n(y),m=t.configureStore=r(65);t.RxSelector=r(70),t.RxComponent=r(32)},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(24),i=r(6),s=r(19),c=r(12),u=function(e){function t(r,n,o){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!r){this.destination=s.empty;break}if("object"==typeof r){r instanceof t?(this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new a(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new a(this,r,n,o)}}return n(t,e),t.prototype[c.$$rxSubscriber]=function(){return this},t.create=function(e,r,n){var o=new t(e,r,n);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t}(i.Subscription);t.Subscriber=u;var a=function(e){function t(t,r,n,i){e.call(this),this._parent=t;var s,c=this;o.isFunction(r)?s=r:r&&(c=r,s=r.next,n=r.error,i=r.complete,o.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this)),this._context=c,this._next=s,this._error=n,this._complete=i}return n(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parent;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parent;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){if(!this.isStopped){var e=this._parent;this._complete?e.syncErrorThrowable?(this.__tryOrSetError(e,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parent;this._context=null,this._parent=null,e.unsubscribe()},t}(u)},function(e,t,r){"use strict";function n(e,t,r){if("string"!=typeof e||!t)return e;var n=[],o=e.replace(a,function(e,r){return"\\"===e.charAt(0)?e.slice(1):void 0===t[r]?f:(n.push(r),t[r])});return r&&n.forEach(function(e){return delete t[e]}),o}function o(e){return e.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()}).toLocaleUpperCase()}function i(e){return e.replace(/_([^_]*)/g,function(e,t){return t&&s(t)||""})}function s(e){return e.charAt(0).toUpperCase()+e.substring(1)}function c(e){return e.charAt(0).toLowerCase()+e.substring(1)}function u(){return"undefined"!=typeof Promise&&Promise.defer?Promise.defer():"undefined"!=typeof PromiseUtils&&PromiseUtils.defer?PromiseUtils.defer():(this.resolve=null,this.reject=null,this.promise=new Promise(function(e,t){this.resolve=e,this.reject=t}.bind(this)),Object.freeze(this),void 0)}Object.defineProperty(t,"__esModule",{value:!0}),t.substitute=n,t.toSnakeCase=o,t.toCamlCase=i,t.ucfirst=s,t.lcfirst=c,t.Deferred=u;var a=(r(17),/\\?\{([^{}]+)\}/g),f=""},function(e,t){(function(e){"use strict";var r={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1};t.root=r[typeof self]&&self||r[typeof window]&&window;var n=r[typeof e]&&e;!n||n.global!==n&&n.window!==n||(t.root=n)}).call(t,function(){return this}())},function(t,r){t.exports=e},function(e,t,r){"use strict";var n=r(3),o=r(62),i=r(21),s=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=o.toSubscriber(e,t,r);if(n?n.call(i,this):i.add(this._subscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype.forEach=function(e,t){var r=this;if(t||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?t=n.root.Rx.config.Promise:n.root.Promise&&(t=n.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var o=r.subscribe(function(t){if(o)try{e(t)}catch(e){n(e),o.unsubscribe()}else e(t)},n,t)})},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[i.$$observable]=function(){return this},e.create=function(t){return new e(t)},e}();t.Observable=s},function(e,t,r){"use strict";var n=r(23),o=r(59),i=r(24),s=r(25),c=r(13),u=r(58),a=function(){function e(e){this.closed=!1,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){this.closed=!0;var r=this,a=r._unsubscribe,f=r._subscriptions;if(this._subscriptions=null,i.isFunction(a)){var l=s.tryCatch(a).call(this);l===c.errorObject&&(t=!0,(e=e||[]).push(c.errorObject.e))}if(n.isArray(f))for(var p=-1,h=f.length;++p<h;){var d=f[p];if(o.isObject(d)){var l=s.tryCatch(d.unsubscribe).call(d);if(l===c.errorObject){t=!0,e=e||[];var b=c.errorObject.e;b instanceof u.UnsubscriptionError?e=e.concat(b.errors):e.push(b)}}}if(t)throw new u.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var r=t;switch(typeof t){case"function":r=new e(t);case"object":if(r.closed||"function"!=typeof r.unsubscribe)break;this.closed?r.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(r);break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return r},e.prototype.remove=function(t){if(null!=t&&t!==this&&t!==e.EMPTY){var r=this._subscriptions;if(r){var n=r.indexOf(t);n!==-1&&r.splice(n,1)}}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();t.Subscription=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseModel=void 0;var c,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(10),l=r(9),p=r(30),h=r(33),d=n(h),b=r(2),y=r(17),v=r(14),m=function(e){return e.data};t.BaseModel=(u=c=function(e){function t(e){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.setName(e),r.mapToStore={},r.defineActionTypes={},r.defineActionCreators={},r.$pollers_=[],r.setMaxListeners(Number.MAX_VALUE),r}return s(t,e),a(t,[{key:"createActionCreator",value:function(e,t){var r=(0,l.createActions)(e,t);Object.assign(this.defineActionTypes,r.getActionTypes()),Object.assign(this.defineActionCreators,r.getActionCreators())}},{key:"createActionName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.name+e+(0,b.ucfirst)(t)}},{key:"createAction",value:function(e,t,r,n){r.changes||("function"==typeof r.change?r.changes=[{name:r.name,type:l.changeOperators.SETPROPERTY,getData:r.change}]:Object.assign(r.change)===r.change?r.changes=[r.change]:r.changes=[{name:r.name,type:r.change||l.changeOperators.RECONFIGURE}]);var o=this.defineActionCreators["$"+e](t);return Object.assign(o.payload,r,{cid:this.generatorKey}),Object.assign(o,n),o}},{key:"generatorKey",get:function(){return"id"}}]),a(t,[{key:"getAppStore",value:function(){return t.appStore}},{key:"setName",value:function(e){this.name=e}},{key:"getModel",value:function(e){return this.getAppStore().models[e]}},{key:"select",value:function(e){var t=this.getAppStore().getState();return t[this.name][e]}},{key:"execQuery",value:function(e,t){return this.getQuery(e,t,this.dispatch)}},{key:"getQuery",value:function(e,t,r){var n=this;"function"==typeof t&&(r=t,t={}),Array.isArray(t)&&(t={changes:t});var o=void 0,i=Object.assign({},e,t);if(i.operate||(i.operate=i.name||(0,d.default)()),i.uri)o=this.createCrudFor(i);else if("function"==typeof i.request)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.processData||i.processData,n=t.suppressGlobalProgress||i.suppressGlobalProgress,o=t.suppressGlobalErrorNotification||i.suppressGlobalErrorNotification,s={suppressGlobalErrorNotification:o,suppressGlobalProgress:n},c=i.request(i.params||i.body,{dispatch:e,processData:r,action:s,changes:i.changes,callback:t.callback,errorNotification:t.errorNotification});return c.fromSubscribe=function(e){return e&&c.then(function(t){e(null,t)},e),c},c};else if(i.response){var s=i.operate,c=(0,b.ucfirst)(s),u=s&&(i.change||i.changes);o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.processData||i.processData||m,o=t.suppressGlobalProgress||i.suppressGlobalProgress,a=t.suppressGlobalErrorNotification||i.suppressGlobalErrorNotification;u&&n.createActionCreator([],[n.createActionName(c)]);var f={name:i.name||s,params:i.params||i.body,change:i.change,changes:i.changes},l={suppressGlobalErrorNotification:a,suppressGlobalProgress:o},p=i.response&&i.response.then,h=p?i.response:Promise.resolve(i.response);if(u){if(!p){var d=r(i.response);e&&e(n.createAction(n.createActionName(c,"action"),d,Object.assign(f,{data:i.response}),l))}n.emit("before"+c,i)}return h.fromSubscribe=function(e){return e&&h.then(function(t){e(null,t)},e),h},h.fromSubscribe(t.callback),h.then(function(t){var o=r(t);return u&&(p&&e&&e(n.createAction(n.createActionName(c,"action"),o,Object.assign(f,{data:i.response}),l)),n.emit("after"+c,null,o)),o}),h}}return r?o(r):o}},{key:"createCrudFor",value:function(e){var t=this,r=e.operate,n=(0,b.ucfirst)(r),o=r&&(e.change||e.changes);o&&this.createActionCreator([this.createActionName(n)],[]);var i=function(i){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=s.processData||e.processData||m,u=s.suppressGlobalProgress||e.suppressGlobalProgress,a=s.suppressGlobalErrorNotification||e.suppressGlobalErrorNotification,l={name:e.name||r,params:e.params||e.body,change:e.change,changes:e.changes},p={suppressGlobalErrorNotification:a,suppressGlobalProgress:u};o&&(i&&i(t.createAction(t.createActionName(n,"start"),e.initialValue,Object.assign(l,{data:h}),p)),t.emit("before"+n,e));var h=(0,f.Api)({url:e.uri,method:e.method,data:e.body,headers:e.headers,errorNotification:e.errorNotification});return h.fromSubscribe=function(e){return e&&h.then(function(t){e(null,t)},e),h},h.fromSubscribe(s.callback),h.then(function(e){var r=c(e,i);return o&&(i&&i(t.createAction(t.createActionName(n,"success"),r,Object.assign(l,{data:e}),p)),t.emit("after"+n,null,r)),r},function(e){return o&&(i&&i(t.createAction(t.createActionName(n,"error"),null,Object.assign(l,{data:e}),Object.assign(p,{error:e}))),t.emit("after"+n,e)),e}),h};return i}},{key:"pollingQuery",value:function(e,t,r){var n=this,o=function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new p.Poller({catchError:e.catchError,smart:e.smart,delay:e.delay,action:function(){return n.getQuery(e,t)(r,o)}});return n.$pollers_.push(i),i};return r?o(r):o}},{key:"clearPolling",value:function(){this.$pollers_.forEach(function(e){e.remove()})}},{key:"destroy",value:function(){this.removeAllListeners(),this.clearPolling()}},{key:"dispatch",get:function(){return this.getAppStore().dispatch}}]),t}(y.EventEmitter),c.appStore=null,c.ASSIGN_METHODS=v.resourceCRUD,u)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSelector=void 0;var s,c,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(17);t.BaseSelector=(c=s=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.setMaxListeners(Number.MAX_VALUE),e}return i(t,e),u(t,[{key:"ready",value:function(e){this.getAppStore()?e&&e():t.emitter.once("ready",e)}},{key:"initialize",value:function(e,t){}},{key:"getService",value:function(e){}},{key:"getAppStore",value:function(){return t.appStore}},{key:"getModel",value:function(e){return this.getAppStore().models[e]}},{key:"select",value:function(e){var t=this.getAppStore().getState();if(e){for(var r=e.split("."),n=t,o=0,i=r.length;o<i;o++)if(!(n=n[r[o]]))return n;return n}return t}},{key:"destroy",value:function(){this.removeAllListeners()}},{key:"inputs",get:function(){return function(e,t){return{}}}},{key:"outputs",get:function(){return function(e,t){return{}}}},{key:"dispatch",get:function(){return this.getAppStore().dispatch}},{key:"parentSelector",set:function(e){this.$parentSelector_=e},get:function(){return this.$parentSelector_}}]),t}(a.EventEmitter),s.appStore=null,s.emitter=new a.EventEmitter,c)},function(e,r,n){"use strict";function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r={};if(t)h.forEach(function(t){var n=e+(0,l.ucfirst)(t);r[(0,l.toSnakeCase)(n)]={type:n,status:t}});else{var n=e+(0,l.ucfirst)("action");r[(0,l.toSnakeCase)(n)]={type:n,status:"action"}}return r}function s(e,t){t=t||i(e);var r={},n=function(e){var n=t[e];d[n.status]?r["$"+n.type]=function(){var t;return{type:e,payload:(t={},o(t,d[n.status],arguments.length<=0?void 0:arguments[0]),o(t,"status",n.status),t)}}:r["$"+n.type]=function(){return{type:e,payload:{record:arguments.length<=0?void 0:arguments[0],status:n.status}}}};for(var s in t)n(s);return r}function c(e,t,r){return e=e.asMutable?e.asMutable():e,r?(r.forEach(function(r){return e[r]=t[r]}),e):Object.assign(e,t)}function u(e,r){if(r){var n={};return r.forEach(function(r){return e[r]=t[r]}),n}return e}function a(e,t,r){if(t.changes){var n=void 0===t.record?t.records:t.record,o=t.cid;return t.changes.forEach(function(i){switch(i.type){case p.ADD:Object(n)===n&&(e=Array.isArray(e[i.name])?e.update(i.name,function(e){var t={},r=[].concat(n);r.forEach(function(e){return t[e[o]]=e}),e=e.asMutable().map(function(e){return t[e[o]]?(r.splice(r.indexOf(t[e[o]]),1),c(e,t[e[o]],i.attrs)):e});for(var s=r.length;s--;)e.unshift(r[s]);return e}):e.set(i.name,n));break;case p.UPDATE:Object(n)===n&&(Array.isArray(e[i.name])?e=e.update(i.name,function(e){var t={},r=[].concat(n);return r.forEach(function(e){return t[e[o]]=e}),e=e.asMutable().map(function(e){return t[e[o]]?c(e,t[e[o]],i.attrs):e})}):e[i.name][o]==n[o]&&(e=e.set(i.name,u(n,i.attrs))));break;case p.DELETE:Object(n)===n&&(Array.isArray(e[i.name])?e=e.update(i.name,function(e){var t={},r=[].concat(n);return r.forEach(function(e){return t[e[o]]=e}),e.filter(function(e){return!t[e[o]]})}):e[i.name][o]==n[o]&&(e=e.set(i.name,null)));break;case p.RECONFIGURE:e=e.set(i.name,n||e[i.name]);break;case p.SETPROPERTY:e=e.set(i.name,i.getData(n,e[i.name])||e[i.name]);break;default:var s=void 0;i.callback?s=i.callback(n,e[i.name],t.params,e,r):i[t.status]&&(s=i[t.status](n,e[i.name],t.params,e,r)),i.name?e=e.set(i.name,s||e[i.name]):s&&(e=s)}}),e}return e}function f(e,t){var r={};return e.forEach(function(e){r[e]=i(e,!0)}),t.forEach(function(e){r[e]=i(e)}),{getActionTypes:function(){var e={};for(var t in r)Object.assign(e,r[t]);return e},getActionCreators:function(){var e={};for(var t in r)Object.assign(e,s(t,r[t]));return e}}}Object.defineProperty(r,"__esModule",{value:!0}),r.changeOperators=void 0,r.createActionTypes=i,r.createActionCreators=s,r.applyCrudReducer=a,r.createActions=f;var l=n(2),p=r.changeOperators={ADD:"add",UPDATE:"update",DELETE:"delete",RECONFIGURE:"reconfigure",SETPROPERTY:"setProperty"},h=["start","success","error"],d={start:"record",success:"record",error:""}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return e.json().then(function(e){return u.errorHandler(e,t,r)})}function i(e,t){if(t&&t.quiet)return e;if(e.status<h.OK||e.status>=h.ERROR){var r=new Error(e.statusText);try{r.response=e.json()}catch(t){r.response=e.text()}throw r.errorNotification=t,r}return e}function s(e){var t="undefined"==typeof e?"undefined":a(e);return null==e||"object"!==t&&"function"!==t}function c(e,t,r,n){t=t||v,r=r||g,n===y&&(n=!0);var o,i,c,u,a,f=[];for(o in e){a=e[o];var l=o;if(o=_(o),s(a))f.push(o),a!==y&&f.push(r,_(a+m)),f.push(t);else if(Array.isArray(a))for(i=0,u=a.length;i<u;++i)c=a[i],s(c)&&(f.push(o,n&&"[]"!==l.slice(-2)?_("[]"):m),c!==y&&f.push(r,_(c+m)),f.push(t))}return f.pop(),f.join(m)}function u(e){var t=e.method.toLocaleUpperCase(),r=u.validateHandler(e.data||e.params,e),n=void 0;e.headers&&(e.headers.target?(n=Object.assign({},e.headers),n.target=(0,p.substitute)(n.target,r,!0)):n=e.headers);var o=e.withCredentials?"INCLUDE":"SAME_ORIGIN",i=(0,p.substitute)(e.url,r,!0);switch(t){case"POST":case"PUT":return u.postput(i,t,r,e.errorNotification,n,o);case"DELETE":return u.delete((i.indexOf("?")>-1?i:i+"?")+"&"+c(r),e.errorNotification,n,o);case"GET":default:return u.get((i.indexOf("?")>-1?i:i+"?")+"&"+c(r),e.errorNotification,n,o)}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.Api=u;var f=r(75),l=n(f),p=r(2),h={OK:200,ERROR:301},d={APP_JSON_HEADER:"application/json",SAME_ORIGIN:"same-origin",INCLUDE:"include"};u.errorHandler=function(e,t){return e},u.validateHandler=function(e,t){return Object.assign({},e)};var b=void 0;b=l.default;var y,v="&",m="",_=encodeURIComponent,g=({}.toString,"=");u.headers=Object.assign(window.ajaxHeader||{},{Accept:d.APP_JSON_HEADER,"Content-Type":d.APP_JSON_HEADER}),u.doFetch=b,Object.assign(u,{success:function(e){return Promise.resolve(e)},error:function(e){return Promise.reject(e)},get:function(e,t,r,n){return b(e,{method:"GET",credentials:d[n],headers:r||u.headers}).then(function(e){return i(e,t)}).then(function(r){return o(r,t,e)})},delete:function(e,t,r,n){return b(e,{method:"DELETE",credentials:d[n],headers:r||u.headers}).then(function(e){return i(e,t)}).then(function(r){return o(r,t,e)})},postput:function(e,t,r,n,s,c){return b(e,{method:t,credentials:d[c],headers:s||u.headers,body:JSON.stringify(r)}).then(function(e){return i(e,n)}).then(function(t){return o(t,n,e)})},post:function(e,t,r,n,o){return u.postput(e,"POST",t,r,n,o)},put:function(e,t,r,n,o){return u.postput(e,"PUT",t,r,n,o)}})},function(e,t){e.exports=r},function(e,t,r){"use strict";var n=r(3),o=n.root.Symbol;t.$$rxSubscriber="function"==typeof o&&"function"==typeof o.for?o.for("rxSubscriber"):"@@rxSubscriber"},function(e,t){"use strict";t.errorObject={e:{}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.resourceCRUD={QUERY:function(e,t,r){return[{name:e,start:function(){return r[e]},success:function(e){return e.data}}]},QUERY_METRIC:function(e,t,r){return[{name:e,start:function(){return r[e]},success:function(e,t){return{loading:!1,total:e.total}}}]},PURE:function(e,t,n){var o=r(n[e]);return o="object"===o&&Array.isArray(n[e])?"array":o||"object",[{name:e,start:function(){return n[e]},success:function(e){return e}}]},PASS:function(e,t,r){return[{name:e,success:function(e){return e}}]},GET:function(e,t,r){return[{name:e,start:function(){return r[e]},success:function(e){return e}}]},ADD:function(e,t,r){return Array.isArray(r[e])?[{name:e,success:function(e,r,n){return Object(e)!==e&&e!==!1&&(e=n),r=r.asMutable(),r.unshift(e),t.limit&&t.limit<r.length&&r.pop(),r}}]:[{name:e,success:function(e,t,r){return Object(e)!==e&&e!==!1&&(e=r),e}}]},ADD_METRIC:function(e,t,r){return[{name:e,success:function(e,t,r){return Object(e)!==e&&e!==!1&&(e=r),t.set("total",t.total+1)}}]},UPDATE:function(e,t,r){return Array.isArray(r[e])?[{name:e,success:function(e,r,n){return Object(e)!==e&&e!==!1&&(e=n),Array.isArray(e)||(e=[e]),e.forEach(function(e){var n=r.findIndex(function(r){return r[t.cid]===e[t.cid]});if(n>-1){if(t.attributes){var o={};t.attributes.forEach(function(t){return o[t]=e[t]}),e=o}var i=r[n].merge(e);r=r.set(n,i)}}),r}}]:[{name:e,success:function(e,r,n,o){return Object(e)!==e&&e!==!1&&(e=n),r[t.cid]===e[t.cid]&&(r=r.merge(e)),r}}]},DELETE:function(e,t,r){return Array.isArray(r[e])?[{name:e,success:function(e,r,n,o){Object(e)!==e&&e!==!1&&(e=n);var i=r.findIndex(function(r){return r[t.cid]===e[t.cid]});return i>-1&&(r=r.asMutable(),r.splice(i,1)),r}}]:[{name:e,success:function(n,o,i,s){return Object(n)!==n&&n!==!1&&(n=i),o[t.cid]===n[t.cid]&&(o=r[e]),o}}]},DELETE_METRIC:function(e,t,r){return[{name:e,success:function(e,t,r,n){return Object(e)!==e&&e!==!1&&(e=r),t.total>0&&(t=t.set("total",t.total-1)),t}}]},JOIN:function(e,t,r){var n=t.joinName;return Array.isArray(r[n])?[{success:function(r,o,i,s){var c=s[n].find(function(e){return e[t.cid]===i[t.cid]});if(c>-1){var u=s[n][c].set(e,r),a=s[n].set(c,u);s=s.set(n,a)}return s}}]:[{success:function(r,o,i,s){if(s[n][t.cid]===i[t.cid]){var c=s[n].set(e,r);s=s.set(n,c)}return s}}]}}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceModel=void 0;var o,i,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=r(10);t.ResourceModel=(i=o=function(){function e(t,r){n(this,e),this.$options_=t,this.$props_=r}return s(e,[{key:"setProps",value:function(e){this.$props_=e}},{key:"request",value:function(t,r,n){var o=this.$options_,i=this.$options_.actions[t];if(!i)return http.error(new Error("Request is null"));var s=i.requestInterceptor||o.requestInterceptor||e.requestInterceptor,u=i.responseInterceptor||o.responseInterceptor||e.responseInterceptor,a=e.resourcePath||o.resourcePath||"";if(!i.uri){var f=a+i.path;f=f.replace(/\/\/+/g,"/"),f.startsWith("http")&&(f=f.replace(":/","://"));var l=o.removeTrailingSlash||e.removeTrailingSlash;if(l)for(;"/"===f[f.length-1];)f=f.substr(0,f.length-1);i.uri=f}if(o.addTimestamp){var p=o.addTimestamp===!0?"ts":o.addTimestamp;r[p]=""+(new Date).getTime()}var h=i.method||"get",d={name:t,url:i.uri,method:h,params:r,rules:i.rules,headers:i.headers,errorNotification:i.errorNotification,withCredentials:i.withCredentials},b=s(d,this.$props_),y=void 0;return y=b instanceof Promise?b:(0,c.Api)(b),y=u?u(y,d,this.$props_):y,n&&y.then(function(e){return n(null,e)},function(e){return n(e)}),y}},{key:"query",value:function(e,t){return this.request("query",e,t)}},{key:"get",value:function(e,t){return this.request("get",e,t)}},{key:"update",value:function(e,t){return this.request("update",e,t)}},{key:"create",value:function(e,t){return this.request("create",e,t)}},{key:"delete",value:function(e,t){return this.request("delete",e,t)}}]),e}(),o.requestInterceptor=function(e){return e},o.responseInterceptor=function(e,t){return e},o.removeTrailingSlash=!1,o.resourcePath="",i)},function(e,t,r){"use strict";function n(e){var t=e.toString().replace(h,""),r=t.match(a)||t.match(f);return r}function o(e){var t=n(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function i(e,t,r){return r&&Array.isArray(e)&&(e=e[e.length-1]),e}function s(e){if("function"==typeof e){var t=Function.prototype.toString.call(e);return/^class\s/.test(t)||/_classCallCheck/.test(t)||/^function (\w+)[\s\S]*?\w\(this,\1\);/.test(t)}}function c(e,t){var r,s,c;return r=e.contextTypes?Object.keys(e.contextTypes):e.$inject,r?Array.isArray(e)?(c=e.length-1,i(e[c],"fn"),r=e.slice(0,c)):i(e,"fn",!0):(r=[],"string"==typeof t&&t||(t=e.name||o(e)),s=n(e),s[1].split(l).forEach(function(e){e.replace(p,function(e,t,n){r.push(n)})})),r}function u(e,t,r,n){var o,i,u,a,f=c(e,t)||[],l=[],p={};for(u=0,i=f.length;u<i;u++){if(a=f[u],"string"!=typeof a)throw new Error("Incorrect injection token! Expected service name as string");o=r(a),p[a]=o,l.push(o)}if(Array.isArray(e)&&(e=e[i]),s(e)){var h=new(Function.prototype.bind.apply(e,[null].concat(l)));return h.context=p,h}return n.context=p,e.apply(n,l)}Object.defineProperty(t,"__esModule",{value:!0}),t.rcInject=void 0;var a=(r(2),/^([^\(]+?)=>/),f=/^[^\(]*\(\s*([^\)]*)\)/m,l=/,/,p=/^\s*(_?)(\S+?)\1\s*$/,h=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,d=t.rcInject={instantiate:function(e,t,r){var n=Object.create(e.prototype||null),o=u(e,t,r,n);return Object(o)===o||"function"==typeof o?o:n},resources:{},services:{},setService:function(e){var t=d.getService.bind(d);if(Array.isArray(e))e.forEach(function(e){var r=e.displayName;if(!r)throw new Error("服务${Service.name}：displayName静态属性不能为空！");d.services[r]||(d.services[r]=d.instantiate(e,r,t))});else for(var r in e){var n=e[o],o=n.displayName||r;d.Service||(d.Service=d.instantiate(n,o,t))}},getService:function(e){if("string"==typeof e)return d.services[e];var t=e;if(e=t.displayName,!e)throw new Error("服务${Service.name}：displayName静态属性不能为空！");
return d.services[e]||(d.services[e]=d.instantiate(t,e,function(e){return d.services[e]})),d.services[e]},getServiceInjectName:function(e){return e.contextTypes?Object.keys(e.contextTypes):e.$inject}}},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},function(e,t,r){"use strict";function n(e,t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new s(e,t))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1);t.map=n;var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t._subscribe(new c(e,this.project,this.thisArg))},e}();t.MapOperator=s;var c=function(e){function t(t,r,n){e.call(this,t),this.project=r,this.count=0,this.thisArg=n||this}return o(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.Subscriber)},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}var o=r(3);t.getSymbolObservable=n,t.$$observable=n(o.root)},function(e,t){"use strict";var r=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return r(t,e),t}(Error);t.ObjectUnsubscribedError=n},function(e,t){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},function(e,t){"use strict";function r(e){return"function"==typeof e}t.isFunction=r},function(e,t,r){"use strict";function n(){try{return i.apply(this,arguments)}catch(e){return s.errorObject.e=e,s.errorObject}}function o(e){return i=e,n}var i,s=r(13);t.tryCatch=o},function(e,t){"use strict";function r(e,t){e.displayName=t.displayName,e.actions=t.actions,e.initialize=t.initialize;for(var r in e.actions)e[r]=t.actions[r],e[r].name=t.displayName+"."+r;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.HotStaticResource=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseResource=void 0;var i,s,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(18),f=n(a),l=r(15),p=r(9),h=r(10),d=r(11),b=n(d),y=r(14),v=function(e){return e},m=function(e){return e.data};t.BaseResource=(s=i=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];o(this,e),this._sync(t,r,n||r.initialState||{}),this.$model_=this.defer(),this.$cacheHttps_=new Map,this.$subject_=new f.default.Subject,this.$subscripers_=[]}return u(e,[{key:"getState",value:function(){return this.$state_}},{key:"_sync",value:function(t,r,n){var o=this,i={query:{path:"/list",method:"get",state:{list:y.resourceCRUD.QUERY}},get:{method:"get",state:{item:y.resourceCRUD.GET}},create:{method:"post",state:{list:y.resourceCRUD.ADD}},update:{method:"put",state:{list:y.resourceCRUD.UPDATE}},delete:{method:"delete",state:{list:y.resourceCRUD.DELETE}}};r.actions=r.actions||i;var s={},u=function(e){var t=void 0,u=r.actions[e].cid||r.cid;if(i[e])t="string"==typeof r.actions[e]?Object.assign({uri:r.actions[e]},i[e]):r.actions[e]===!0?Object.assign({path:"/{${cid}}"},i[e]):Object.assign({path:"/{${cid}}"},i[e],{state:null},r.actions[e]);else{if(o[e])throw new Error("actionName不能覆盖Resource已有的方法");t=Object.assign({},r.actions[e])}t.initialState&&Object.assign(n,t.initialState),t.cid=u,t.changes=t.changes||[],s[e]=t;var a=t.state;if(a)for(var f in a){var l=a[f];"string"==typeof l&&(l=y.resourceCRUD[l]);var p=l(f,t,n);p&&(t.changes=t.changes.concat(p))}var h=t.processData;"object"===("undefined"==typeof h?"undefined":c(h))&&(t.processData=function(e,t){var r={},n=void 0;for(var o in h){for(var i=e,s=h[o].split(".");n=s.shift();)i=i[n];r[o]=i}return r}),o[e]||(o[e]=function(t,r){return o.request(e,t,r)})};for(var a in r.actions)u(a);this.$state_=(0,b.default)(n),this.$cid_=r.cid,this.$options_={resourcePath:r.resourcePath||"",addTimestamp:r.addTimestamp,removeTrailingSlash:r.removeTrailingSlash,actions:s,requestInterceptor:function(t){var r=t.name,n=o.$options_.actions[r],i=o.$cacheHttps_.get(r),s=void 0,c=!1;if((n.cache||n.distinct)&&"get"===t.method.toLocaleLowerCase()&&i){if(i.params==t.params)c=!0;else{var u=t.params||{},a=i.params||{},f=Object.keys(u);f.length==Object.keys(u)&&f.length==f.filter(function(e){return a[e]===u[e]}).length&&(c=!0)}c&&n.cache&&(i.resolved?(i.resolved=!1,s=i.$observable.toPromise()):(i.abort(),i.release()))}if(!s){var l=o.createHttp(t.params,function(){o.$subject_.next({name:r,status:"start",ajaxOption:t,dispatch:l.extraOption.dispatch,state:o.applyState({status:"start",record:{},params:t.params,changes:n.changes.concat(l.extraOption.changes||[])}),stateAction:l.extraOption.action})});o.$cacheHttps_.set(r,l),s=Promise.resolve(t).then(function(t){var r=void 0;if(i&&(n.distinct&&c&&!i.resolved&&(i.abort(),r=h.Api.error(new Error("Request is stoped"))),n.cache||i.release()),!r){var o=void 0;(o=e.validate(t.params,n))?r=h.Api.error(o):(t.errorNotification=t.errorNotification||l.extraOption.errorNotification,r=(0,h.Api)(t))}return r})}return s},responseInterceptor:function(e,t){var r=o.$cacheHttps_.get(t.name),n=s[t.name];return r.resolved||(r.extraOption.callback&&e.then(function(e){return r.extraOption.callback(null,e)},function(e){return r.extraOption.callback(e)}),e.then(function(e){var i=r.extraOption.processData||n.processData||m,s=i(e,t.params),c=o.applyState({record:s,status:"success",params:t.params,changes:n.changes.concat(r.extraOption.changes||[])});return o.$subject_.next({name:t.name,status:"success",data:s,dispatch:r.extraOption.dispatch,stateAction:r.extraOption.action,state:c}),s},function(e){throw o.$subject_.next({name:t.name,status:"error",dispatch:r.extraOption.dispatch,stateAction:r.extraOption.action,state:o.$state_,error:e}),e})),n.cache||r.release(),e}}}},{key:"applyState",value:function(e){return e.changes.length?this.$state_=(0,p.applyCrudReducer)(this.$state_,e):null}},{key:"defer",value:function(){return new l.ResourceModel(this.$options_)}},{key:"createHttp",value:function(e,t){var r={extraOption:{},params:e,resolved:!1,abort:function(){r.resolved||(r.$subscription.unsubscribe(),r.resolved=!0)},subscriber:null,observable:f.default.Observable.create(function(e){r.subscriber=e}).flatMap(function(){return r.$observable}),$observable:null,$subscription:null,start:function(e,n){if(!r.resolved){var o=void 0;"object"===("undefined"==typeof n?"undefined":c(n))&&(o=n,n=o.callback,delete o.callback,r.extraOption=o),n=n||v,t(),r.$observable=f.default.Observable.fromPromise(e),r.$subscription=r.$observable.subscribe(function(e){e instanceof Error?n(e):n(null,e)},function(e){return n(e)},function(){return r.resolved=!0}),r.observable=r.observable.publish(),r.observable.connect()}},release:function(){r.subscriber&&(r.subscriber.next(),r.subscriber.complete(),r.subscriber=null)}};return r}},{key:"request",value:function(e,t,r){var n=this.$options_.actions[e];if(!n)return h.Api.error(new Error("Request is null"));var o=this.$model_.request(e,t),i=this.$cacheHttps_.get(e);return o.cancel=i.abort.bind(i),i.start(o,r),o}},{key:"subscribe",value:function(e){var t=this.$subject_.subscribe(e);return this.$subscripers_.push(t),t}},{key:"unsubscribe",value:function(){this.$subscripers_.forEach(function(e){e.unsubscribe()})}},{key:"destroy",value:function(){this.unsubscribe(),this.$subject_.complete()}}]),e}(),i.validate=function(){},s)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return function(r){var n=function(r){function n(r){o(this,n);var s=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r));return s.$resources_={},s.$properties_=a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"properties",s)||{},e.prototype instanceof f.BaseResource?!function(){s.$transfer_=!0;var t=s.setResource(e.displayName,e),r=function(e){s[e]||(s[e]=function(r){return s.getQuery({params:r,request:t[e]})})};for(var n in t.$options_.actions)r(n);Object.assign(s.$properties_,t.getState())}():t?!function(){s.$transfer_=!0;for(var n in e.actions)Object.assign(e.actions[n],t[n]);e.initialState=s.$properties_;var o=s.setResource(r,e),i=function(e){s[e]||(s[e]=function(t){return s.getQuery({params:t,request:o[e]})})};for(var c in o.$options_.actions)i(c);Object.assign(s.$properties_,o.getState())}():Object.keys(e).forEach(function(t){var r=s.setResource(t,e[t]);s.$properties_[t]=r.getState()}),s}return s(n,r),u(n,[{key:"subscribeResources",value:function(e){var t=this,r=[],n=function(n){var o=t.$resources_[n],i=o.subscribe(function(r){if(!e||!r.dispatch||e===r.dispatch.selector){var o=(0,l.ucfirst)(n)+(0,l.ucfirst)(r.name);switch(r.status){case"start":t.emit("before"+o,r.ajaxOption);break;case"success":t.emit("after"+o,null,r.data);break;case"error":t.emit("after"+o,r.error)}if(r.dispatch&&r.state){var i=(0,l.toSnakeCase)(t.name+o+(0,l.ucfirst)(r.status));t.defineActionTypes[i]=t.defineActionTypes[i]||{type:i,status:r.status},r.dispatch(Object.assign({type:i,error:r.error,state:function(e){return t.$transfer_?e.merge(r.state):e.set(n,r.state)}},r.stateAction))}}});r.push(i)};for(var o in this.$resources_)n(o);return r}},{key:"properties",get:function(){return this.$properties_}}]),u(n,[{key:"destroy",value:function(){a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this);for(var e in this.$resources_)this.$resources_[e].isolate&&this.$resources_[e].destroy()}},{key:"getResource",value:function(e){return this.$resources_[e]}},{key:"setResource",value:function(e,t){var r=void 0;return t.cid=t.cid||this.generatorKey,p.rcInject.resources[e]?r=this.$resources_[e]=p.rcInject.resources[e]:(t.prototype instanceof f.BaseResource?r=new t(e,{},t.initialState):(r=new f.BaseResource(e,t),r.isolate=!0),this.$resources_[e]=p.rcInject.resources[e]=r),r}}]),n}(r);return n}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)};t.resource=c;var f=r(27),l=(r(26),r(2)),p=r(16),h=r(8),d=r(11);n(d);h.BaseSelector.prototype.getModel=function(e){var t=this.getAppStore().models[e];return this.$subscribersMap_||(this.$subscribersMap_={}),!this.$subscribersMap_[e]&&t.subscribeResources&&(this.$subscribersMap_[e]=t.subscribeResources(this)),t},Object.defineProperty(h.BaseSelector.prototype,"dispatch",{get:function(){var e=this;return this.$dispatch_?this.$dispatch_:(this.$dispatch_=function(t){return e.getAppStore().dispatch(t)},this.$dispatch_.selector=this,this.$dispatch_)},enumerable:!0,configurable:!0});var b=h.BaseSelector.prototype.destroy;h.BaseSelector.prototype.destroy=function(){if(b.call(this),this.$subscribersMap_){for(var e in this.$subscribersMap_)this.$subscribersMap_[e].forEach(function(e){return e.unsubscribe()});this.$subscribersMap_={}}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){function t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,n=arguments[1];return e.defineActionTypes[n.type]?n.state?"function"==typeof n.state?n.state(t):n.state:(0,u.applyCrudReducer)(t,n.payload,r):t}var r=(0,c.default)(e.properties);return t.$initialState=r,t}function i(e,t){var r={};if(Array.isArray(t))t.forEach(function(t){var n=t.displayName;if(t.prototype instanceof a.BaseModel){if(n=t.displayName,!n)throw new Error("数据模型${Model.name}：displayName静态属性不能为空！");r[n]=new t(n),e[n]=o(r[n])}else r[n]=t,r[n].mapToStore?e[n]=o(r[n]):e[n]=r[n]});else for(var n in t){var i=t[n];i.prototype instanceof a.BaseModel?(n=i.displayName||n,r[n]=new i(n),e[n]=o(r[n])):(r[n]=i,r[n].mapToStore?e[n]=o(r[n]):e[n]=r[n])}return{reducers:e,models:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.createReducerFactory=o,t.createReducerAndModels=i;var s=r(11),c=n(s),u=r(9),a=r(7)},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.Poller=function(){function e(t){r(this,e),this.$option_=Object.assign({delay:5e3,smart:!1,action:null,catchError:null},t),this.$option_.delay||(this.$option_.delay=5e3),this.$current_=null,this.$interval_=null,this.$stopTimestamp_=null,this.$watchers_=[]}return n(e,[{key:"then",value:function(e,t){var r=function(r,n){r?t&&t(r):e&&e(n)};this.$watchers_.push(r)}},{key:"subscribe",value:function(e){this.$watchers_.push(e),this.start()}},{key:"unsubscribe",value:function(){this.$watchers_=[]}},{key:"tick",value:function(){var e=this,t=new Date;this.$current_=this.$option_.action(),this.$current_.then(function(r){e.$current_.$resolved=!0,(!e.$stopTimestamp_||t>=e.$stopTimestamp_)&&e.$watchers_.forEach(function(e){e(null,r)})},function(r){(!e.$stopTimestamp_||t>=e.$stopTimestamp_)&&(e.$watchers_.forEach(function(e){e(r)}),e.$option_.catchError&&e.$option_.catchError(r))})}},{key:"start",value:function(){var e=this;this.$watchers_.length&&(this.stop(),this.$stopTimestamp_=null,this.tick(),this.$interval_=setInterval(function(){e.$option_.smart&&e.$current_&&!e.$current_.$resolved||e.tick()},this.$option_.delay))}},{key:"stop",value:function(){clearInterval(this.$interval_),this.$stopTimestamp_=new Date}},{key:"remove",value:function(){this.stop(),this.unsubscribe()}}]),e}()},function(e,t,r){"use strict";e.exports=r(36)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c,u,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(4),l=n(f),p=function e(t){t.render=function(e){return t=t.map(e),l.default.createElement(d,{observable:t})};var r=t.lift;return t.lift=function(t){var n=r.call(this,t);return e(n),n},t},h=r(18),d=(u=c=function(e){function t(){var e,r,n,s;o(this,t);for(var c=arguments.length,u=Array(c),a=0;a<c;a++)u[a]=arguments[a];return r=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={children:null},s=r,i(n,s)}return s(t,e),a(t,[{key:"componentWillMount",value:function(){var e=this;this.$subscription=this.props.observable.subscribe(function(t){e.setState({children:t})})}},{key:"componentWillUnMount",value:function(){this.$subscription.unsubscribe()}},{key:"render",value:function(){return l.default.createElement("div",null,this.state.children)}}]),t}(f.Component),c.selectable=function(e){return p(h.Observable.from(e))},c.propsType={observable:f.PropTypes.object.isRequired},u);e.exports=d},function(e,t){e.exports=i},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t,r){!function(t,n){e.exports=n(r(38),r(5),r(19),r(41),r(1),r(46),r(20),r(47),r(48),r(49),r(50),r(56))}(this,function(e,t,r,n,o,i,s,c,u,a,f,l){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var o=r(7);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=r(4);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var s=r(1);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var c=r(2);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var u=r(5);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var a=r(8);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dispatcher=void 0;var s,c,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(3);t.Dispatcher=(c=s=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{type:t.INIT}))}return i(t,e),u(t,[{key:"dispatch",value:function(e){this.next(e)}},{key:"complete",value:function(){}}]),t}(a.BehaviorSubject),s.INIT="@@redux/INIT",c)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Reducer=void 0;var s,c,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},f=r(3);r(1),t.Reducer=(c=s=function(e){function t(e,r){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return i._dispatcher=e,i}return i(t,e),u(t,[{key:"replaceReducer",value:function(e){this.next(e)}},{key:"next",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"next",this).call(this,e),this._dispatcher.dispatch({type:t.REPLACE})}}]),t}(f.BehaviorSubject),s.REPLACE="@rx/store/replace-reducer",c)},function(t,r){t.exports=e},function(e,t){"use strict";function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return function(e){return e};if(t=t.filter(function(e){return"function"==typeof e}),1===t.length)return t[0];var n=t[t.length-1],o=t.slice(0,-1);return function(){return o.reduceRight(function(e,t){return t(e)},n.apply(void 0,arguments))}}Object.defineProperty(t,"__esModule",{value:!0}),t.compose=r},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var s=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=r(18),u=r(17),a=r(15),f=r(19),l=r(3);r(1),r(2),t.State=function(e){function t(e,r,i){n(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),p=a.observeOn.call(r,f.queue),h=c.withLatestFrom.call(p,i),d=u.scan.call(h,function(e,t){var r=s(t,2),n=r[0],o=r[1];return o(e,n)},e);return d.subscribe(function(e){return l.next(e)}),l}return i(t,e),t}(l.BehaviorSubject)},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,o,s){var c=e(r,o,s),u=c.dispatch,a=[],f={getState:c.getState,dispatch:function(e){return u(e)}};return a=t.map(function(e){return e(f)}),u=i.compose.apply(void 0,n(a))(c.dispatch),c.dispatch=u,c}}}Object.defineProperty(t,"__esModule",{value:!0}),t.applyMiddleware=o;var i=r(4)},function(e,t,r){"use strict";function n(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];"function"==typeof e[o]&&(r[o]=e[o])}var i=Object.keys(r);return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=!1,o={},s=0;s<i.length;s++){var c=i[s],u=r[c],a=e[c],f=u(a,t);o[c]=f,n=n||f!==a}return n?o:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.combineReducers=n;r(2)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,r){if("undefined"!=typeof r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var n=new h.Dispatcher,o=t,i=new b.Reducer(n,e);return t instanceof d.State||(t=e(void 0,{type:h.Dispatcher.INIT}),o=new d.State(t,n,i)),new y(i,o,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.Store=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.createStore=s;var a=(r(10),r(9)),f=(r(12),r(11),r(14)),l=r(16),p=r(13),h=r(1),d=r(5),b=r(2),y=t.Store=function(e){function t(e,r,i){n(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));s._dispatcher=i,s._reducer=e,s.source=r,s.getState=function(){return s.source.getValue()};var c=s.__proto__.subscribe;return s.subscribe=function(){var e=c.apply(this,arguments);return e.unsubscribe.bind(e)},s._subscribe=s.__proto__._subscribe,s.dispatch=function(e){s._dispatcher.next(e)},s}return i(t,e),u(t,[{key:"select",value:function(e){var t=void 0,r=f.map.call(this,function(e){return e.computedStates&&(e=e.computedStates[e.currentStateIndex],e=e.state?e.state:_initialState),e});if("string"==typeof e){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];t=l.pluck.call.apply(l.pluck,[r,e].concat(o))}else{if("function"!=typeof e)throw new TypeError("Unexpected type "+("undefined"==typeof e?"undefined":c(e))+" in select operator, expected 'string' or 'function'");t=f.map.call(r,e)}return p.distinctUntilChanged.call(f.map.call(t,function(e){return e.computedStates&&(e=e.computedStates[e.currentStateIndex],e=e.state?e.state:_initialState),e}))}},{key:"lift",value:function(e){var r=new t(this._reducer,this,this._dispatcher);return r.operator=e,r}},{key:"replaceReducer",value:function(e){this._reducer.next(e)}},{key:"next",value:function(e){this._dispatcher.next(e)}},{key:"error",value:function(e){this._dispatcher.error(e)}},{key:"complete",value:function(){}}]),t}(a.Observable)},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=s},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=a},function(e,t){e.exports=f},function(e,t){e.exports=l}])})},function(e,t,r){"use strict";t.__esModule=!0;var n=function(e,t){arguments.length<=2||void 0===arguments[2]||arguments[2],!(arguments.length<=3||void 0===arguments[3])&&arguments[3];return e};t.default=n},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(44),i=r(22),s=function(e){function t(t){e.call(this),this._value=t}return n(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.Subject);t.BehaviorSubject=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(1),i=function(e){function t(t,r,n){e.call(this),this.parent=t,this.outerValue=r,this.outerIndex=n,this.index=0}return n(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(o.Subscriber);t.InnerSubscriber=i},function(e,t,r){"use strict";var n=r(5),o=function(){function e(e,t,r){this.kind=e,this.value=t,this.exception=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.exception);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){var n=this.kind;switch(n){case"N":return e&&e(this.value);case"E":return t&&t(this.exception);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return n.Observable.of(this.value);case"E":return n.Observable.throw(this.exception);case"C":return n.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!=typeof t?new e("N",t):this.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return this.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();t.Notification=o},function(e,t){"use strict"},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(1),i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(o.Subscriber);t.OuterSubscriber=i},function(e,t){"use strict";var r=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=r},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){
this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(5),i=r(1),s=r(6),c=r(22),u=r(45),a=r(12),f=function(e){function t(t){e.call(this,t),this.destination=t}return n(t,e),t}(i.Subscriber);t.SubjectSubscriber=f;var l=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return n(t,e),t.prototype[a.$$rxSubscriber]=function(){return new f(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._subscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(e.complete(),s.Subscription.EMPTY):(this.observers.push(e),new u.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(o.Observable);t.Subject=l;var p=function(e){function t(t,r){e.call(this),this.destination=t,this.source=r}return n(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){var t=this.source;return t?this.source.subscribe(e):s.Subscription.EMPTY},t}(l);t.AnonymousSubject=p},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(6),i=function(e){function t(t,r){e.call(this),this.subject=t,this.subscriber=r,this.closed=!1}return n(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);r!==-1&&t.splice(r,1)}}},t}(o.Subscription);t.SubjectSubscription=i},function(e,t,r){"use strict";function n(e,t){return this.lift(new u(e,t))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),s=r(25),c=r(13);t.distinctUntilChanged=n;var u=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t._subscribe(new a(e,this.compare,this.keySelector))},e}(),a=function(e){function t(t,r,n){e.call(this,t),this.keySelector=n,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return o(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t=this.keySelector,r=e;if(t&&(r=s.tryCatch(this.keySelector)(e),r===c.errorObject))return this.destination.error(c.errorObject.e);var n=!1;if(this.hasKey){if(n=s.tryCatch(this.compare)(this.key,r),n===c.errorObject)return this.destination.error(c.errorObject.e)}else this.hasKey=!0;Boolean(n)===!1&&(this.key=r,this.destination.next(e))},t}(i.Subscriber)},function(e,t,r){"use strict";function n(e,t){return void 0===t&&(t=0),this.lift(new c(e,t))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1),s=r(40);t.observeOn=n;var c=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t._subscribe(new u(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=c;var u=function(e){function t(t,r,n){void 0===n&&(n=0),e.call(this,t),this.scheduler=r,this.delay=n}return o(t,e),t.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r)},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new a(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(s.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(s.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},t}(i.Subscriber);t.ObserveOnSubscriber=u;var a=function(){function e(e,t){this.notification=e,this.destination=t}return e}();t.ObserveOnMessage=a},function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return i.map.call(this,o(e,r))}function o(e,t){var r=function(r){for(var n=r,o=0;o<t;o++){var i=n[e[o]];if("undefined"==typeof i)return;n=i}return n};return r}var i=r(20);t.pluck=n},function(e,t,r){"use strict";function n(e,t){return this.lift(new s(e,t))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(1);t.scan=n;var s=function(){function e(e,t){this.accumulator=e,this.seed=t}return e.prototype.call=function(e,t){return t._subscribe(new c(e,this.accumulator,this.seed))},e}(),c=function(e){function t(t,r,n){e.call(this,t),this.accumulator=r,this.index=0,this.accumulatorSet=!1,this.seed=n,this.accumulatorSet="undefined"!=typeof n}return o(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.accumulatorSet=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){return this.accumulatorSet?this._tryNext(e):(this.seed=e,void this.destination.next(e))},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(i.Subscriber)},function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var r;"function"==typeof e[e.length-1]&&(r=e.pop());var n=e;return this.lift(new c(n,r))}var o=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},i=r(42),s=r(61);t.withLatestFrom=n;var c=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t._subscribe(new u(e,this.observables,this.project))},e}(),u=function(e){function t(t,r,n){e.call(this,t),this.observables=r,this.project=n,this.toRespond=[];var o=r.length;this.values=new Array(o);for(var i=0;i<o;i++)this.toRespond.push(i);for(var i=0;i<o;i++){var c=r[i];this.add(s.subscribeToResult(this,c,c,i))}}return o(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.values[r]=t;var i=this.toRespond;if(i.length>0){var s=i.indexOf(r);s!==-1&&i.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.OuterSubscriber)},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(6),i=function(e){function t(t,r){e.call(this)}return n(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(o.Subscription);t.Action=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(3),i=r(51),s=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r,this.pending=!1}return n(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),o.root.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){return void 0===r&&(r=0),null!==r&&this.delay===r?t:o.root.clearInterval(t)&&void 0||void 0},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);return r?r:void(this.pending===!1&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null)))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,n!==-1&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null))},t}(i.Action);t.AsyncAction=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(43),i=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return n(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)return void t.push(e);var r;this.active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}},t}(o.Scheduler);t.AsyncScheduler=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(52),i=function(e){function t(t,r){e.call(this,t,r),this.scheduler=t,this.work=r}return n(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):t.flush(this)},t}(o.AsyncAction);t.QueueAction=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=r(53),i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(o.AsyncScheduler);t.QueueScheduler=i},function(e,t,r){"use strict";var n=r(54),o=r(55);t.queue=new o.QueueScheduler(n.QueueAction)},function(e,t,r){"use strict";var n=r(3),o=n.root.Symbol;if("function"==typeof o)o.iterator?t.$$iterator=o.iterator:"function"==typeof o.for&&(t.$$iterator=o.for("iterator"));else if(n.root.Set&&"function"==typeof(new n.root.Set)["@@iterator"])t.$$iterator="@@iterator";else if(n.root.Map)for(var i=Object.getOwnPropertyNames(n.root.Map.prototype),s=0;s<i.length;++s){var c=i[s];if("entries"!==c&&"size"!==c&&n.root.Map.prototype[c]===n.root.Map.prototype.entries){t.$$iterator=c;break}}else t.$$iterator="@@iterator"},function(e,t){"use strict";var r=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},n=function(e){function t(t){e.call(this),this.errors=t;var r=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return r(t,e),t}(Error);t.UnsubscriptionError=n},function(e,t){"use strict";function r(e){return null!=e&&"object"==typeof e}t.isObject=r},function(e,t){"use strict";function r(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}t.isPromise=r},function(e,t,r){"use strict";function n(e,t,r,n){var l=new a.InnerSubscriber(e,r,n);if(l.closed)return null;if(t instanceof c.Observable)return t._isScalar?(l.next(t.value),l.complete(),null):t.subscribe(l);if(i.isArray(t)){for(var p=0,h=t.length;p<h&&!l.closed;p++)l.next(t[p]);l.closed||l.complete()}else{if(s.isPromise(t))return t.then(function(e){l.closed||(l.next(e),l.complete())},function(e){return l.error(e)}).then(null,function(e){o.root.setTimeout(function(){throw e})}),l;if("function"==typeof t[u.$$iterator])for(var d=t[u.$$iterator]();;){var b=d.next();if(b.done){l.complete();break}if(l.next(b.value),l.closed)break}else if("function"==typeof t[f.$$observable]){var y=t[f.$$observable]();if("function"==typeof y.subscribe)return y.subscribe(new a.InnerSubscriber(e,r,n));l.error(new Error("invalid observable"))}else l.error(new TypeError("unknown type returned"))}return null}var o=r(3),i=r(23),s=r(60),c=r(5),u=r(57),a=r(39),f=r(21);t.subscribeToResult=n},function(e,t,r){"use strict";function n(e,t,r){if(e){if(e instanceof o.Subscriber)return e;if(e[i.$$rxSubscriber])return e[i.$$rxSubscriber]()}return e||t||r?new o.Subscriber(e,t,r):new o.Subscriber}var o=r(1),i=r(12);t.toSubscriber=n},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)r[n]=e[n];for(var o in t)r[o]=t[o];return r}function o(e,t,r){var n={};if(Array.isArray(t))t.forEach(function(t){n[t]=e[t]});else for(var o in t)t[o]?n[o]=e[o]&&e[o].isRequired:n[o]=e[o];for(var i in r)n[i]=r[i];return n}function i(e,t){var r={};for(var n in e)"function"==typeof e[n]?r[n]=e[n]:r[n]=e[n].type;return l.PropTypes.shape(r).isRequired({parameters:t},"parameters","action")}Object.defineProperty(t,"__esModule",{value:!0});var s=r(27);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var c=r(14);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var u=r(64);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var a=r(28);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var f=r(15);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})}),t.shallowCopy=n,t.extractCopy=o,t.validateParameters=i;var l=r(4)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return function(t){if(t.prototype instanceof v.BaseModel){if(t.displayName){var r=(0,d.resource)(c({},t.displayName,e))(t);return r.prototype.generatorKey=t.prototype.generatorKey||e.cid,r}throw new Error("Model的静态displayName属性不能为空")}if(t.prototype instanceof l.Component){var n,u,h=(u=n=function(r){function n(e){o(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={},t}return s(n,r),f(n,[{key:"getChildContext",value:function(){var t=this;if(this.$dataModel_)this.$dataModel_.setProps(this.props);else{this.$dataModel_=new b.ResourceModel(e,this.props);var r=function(r){t.$dataModel_[r]=function(e,n){return t.$dataModel_.request(r,e,n)},e.actions[r].updater&&t.$dataModel_.request(r,{},function(n,o){var i=e.actions[r].updater(n,o,t.props);Object(i)===i&&t.setState(i)})};for(var n in e.actions)r(n)}return{dataModel:this.$dataModel_}}},{key:"getRealInstance",value:function(){return this.$instance_}},{key:"request",value:function(t,r){var n=this;return this.context.dataModel[t](r,function(r,o){var i=e.actions[t].updater(r,o,n.props);Object(i)===i&&n.setState(i)})}},{key:"render",value:function(){var e=this;return p.default.createElement(t,a({ref:function(t){return e.$instance_=t}},this.props,this.state),this.props.children)}}]),n}(l.Component),n.childContextTypes={dataModel:l.PropTypes.object.isRequired},u);return h}var m=function(r){function n(r,s){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,r,Object.assign(e,s),t.initialState))}return s(n,r),n}(t);return(0,y.HotStaticResource)(m,{displayName:t.displayName,actions:e.actions,initialState:e.initialState||t.initialState})}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.resourceAction=u;var l=r(4),p=n(l),h=r(76),d=(n(h),r(28)),b=r(15),y=r(26),v=r(7)},function(e,t,r){"use strict";e.exports=r(66)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t,r){if(m)return m;var n=(0,f.routerMiddleware)(a.hashHistory),i=s.applyMiddleware.apply(void 0,[u.default,n].concat(o(t),[(0,p.default)(),(0,d.loadingBarMiddleware)({promiseTypeSuffixes:["START","SUCCESS","ERROR"]})])),c=r(),l=c.Models,y=(0,b.createReducerAndModels)({routing:f.routerReducer,loadingBar:h.loadingBarReducer},l),_=y.reducers,g=y.models,O=(0,s.combineReducers)(_);return m=(0,s.createStore)(O,e,i),(0,v.default)(m,g,_),m}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var s=r(31),c=r(81),u=n(c),a=r(78),f=r(79),l=r(80),p=n(l),h=r(34),d=r(68),b=r(29),y=r(67),v=n(y),m=void 0;e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){e.models=t,e.reducers=r,e.addModel=function(t){if(t.prototype instanceof i.BaseModel&&(t=[t]),Array.isArray(t)){var r={};t.forEach(function(e){r[(0,c.lcfirst)(e.displayName||e.name)]=e}),t=r}var n=(0,u.createReducerAndModels)(e.reducers,t),o=n.reducers,s=n.models;Object.assign(e.models,s),e.reducers=o;var f=(0,a.combineReducers)(o);e.replaceReducer(f);for(var l in s){var p="@rx/store/hot-"+l;s[l].defineActionTypes[p]={type:p,status:"action"},e.dispatch({type:p,state:o[l].$initialState})}},e.getModel=function(t){return e.models[t]},i.BaseModel.appStore=e,s.BaseSelector.appStore=e,s.BaseSelector.emitter.emit("ready")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=r(7),s=r(8),c=r(2),u=r(29),a=r(31),f=r(11);n(f);e.exports=t.default},function(e,t,r){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.promiseTypeSuffixes||s;return function(e){var r=e.dispatch;return function(e){return function(n){if(n.type&&!n.suppressGlobalProgress){var s=o(t,3),c=s[0],u=s[1],a=s[2],f=new RegExp(c+"$","g"),l=new RegExp(u+"$","g"),p=new RegExp(a+"$","g");n.type.match(f)?r((0,i.showLoading)()):(n.type.match(l)||n.type.match(p))&&r((0,i.hideLoading)())}return e(n)}}}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.loadingBarMiddleware=n;var i=r(34),s=["PENDING","FULFILLED","REJECTED"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(Array.isArray(e))e.forEach(function(e){return t(e)});else for(var r in e)t(e[r],r)}function i(e,t){return Array.isArray(e)?e.find(function(e){return e.displayName===t}):e[t]}function s(e){return this._reactInternalInstance._context[e]}function c(e){var t=void 0;switch(e){case"props":t=this.props;break;case"inputs":t=this.stateProps;break;case"outputs":t=this.dispatchProps;break;default:t=this.$services_&&this.$services_[e]||this.context[e]}return t||s.call(this,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.View=t.dispatch=t.initialState=t.Output=t.Input=t.component=void 0;var u=r(4),a=r(77),f=r(35),l=r(33),p=n(l),h=r(71),d=n(h),b=r(16),y=r(74),v=n(y),m=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){var r=d.default.apply(void 0,t)(e);return(0,v.default)(r,e)}},_=t.component=function(e){var t=e.elementFactory,r=e.inputs,n=e.outputs,l=e.selector,h=e.providers,d=e.props,y=[],v=void 0,_=void 0;return l&&(_=b.rcInject.getServiceInjectName(l),l.displayName=l.displayName||(0,p.default)(),v=b.rcInject.getService(l),v.name=l.displayName,r=v.inputs,n=v.outputs),y.push(function(e){var t={},f={};v&&(t.selector=u.PropTypes.object.isRequired),o(h,function(e,r){var n=e.displayName||r;if(!n)throw new Error("服务${Provider.name}：displayName静态属性不能为空！");t[n]=u.PropTypes.any.isRequired}),t&&(e.contextTypes=Object.assign(e.contextTypes||{},t));var l=(0,a.connect)(r,n)(e);l.childContextTypes=t,l.prototype.getChildContext=function(){var e=this;return this.$services_?this.$services_:(this.$services_=f,o(h,function(t,r){var n=t.displayName||r;f[n]=c.call(e,n)||b.rcInject.instantiate(t,n,c.bind(e))}),f.selector&&f.selector.emit("afterInitialize"),f)};var p=l.prototype.clearCache,d=l.prototype.componentWillUnmount;return l.prototype.clearCache=function(){return!f.selector&&v&&(f.selector=v,f.selector.emit("beforeInitialize")),p.call(this)},l.prototype.componentWillMount=function(){var e=this;if(f.selector){void 0===f.selector.parentSelector&&(f.selector.parentSelector=s.call(this,"selector")||this.props.parentSelector||null),f.selector.getService=function(t){return c.call(e,t)||b.rcInject.getService(t)},_&&_.forEach(function(t){f.selector.context[t]=c.call(e,t)||b.rcInject.getService(t)||(f[t]=b.rcInject.instantiate(i(h,t),t,function(t){return f[t]||c.call(e,t)}))});try{f.selector.initialize(this.props)}catch(e){console.error(e)}}},l.prototype.componentWillUnmount=function(){var e=this.$services_;for(var t in e)e[t].destroy&&e[t].destroy(),e[t].dispose&&e[t].dispose(),delete e[t];d.call(this)},l}),d&&y.push(m(d)),t?f.compose.apply(void 0,y)(t):f.compose.apply(void 0,y)};t.Input=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,r,n){t.$inputMethods_=t.$inputMethods_||[],t.$inputMethods_.push({name:r,value:e.literal?n.initializer():n.value,literal:e.literal}),t.propertyIsEnumerable("inputs")||Object.defineProperty(t,"inputs",{enumerable:!0,get:function(){var e=this;return function(r,n){var o={};return t.$inputMethods_.forEach(function(t){t.literal?o[t.name]=t.value:o[t.name]=t.value.call(e,r,n)}),o}}})}},t.Output=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,r,n){t.$outputMethods_=t.$outputMethods_||[],t.$outputMethods_.push({name:r,value:n.value,literal:e.literal}),t.propertyIsEnumerable("outputs")||Object.defineProperty(t,"outputs",{enumerable:!0,get:function(){var e=this;return function(r,n){var o={};return t.$outputMethods_.forEach(function(t){t.literal?o[t.name]=t.value:o[t.name]=t.value.call(e,r,n)}),o}}})}},t.initialState=function(e,t,r){e.$propMethods_=e.$propMethods_||[],e.$propMethods_.push({name:t,value:r.initializer()}),Object.assign(e,{get properties(){var t={};return e.$propMethods_.forEach(function(e){t[e.name]=e.value}),t}})},t.dispatch=function(e,t){var r=e.method;e.method=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.apply(void 0,n)(e.dispatch)}},t.View=_},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},a=r(8),f=r(2),l=r(18),p=r(32),h="subscribe.",d=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.$collectionMap_={},e}return s(t,e),c(t,[{key:"createEvent",value:function(e,t){var r=this,n=this.$collectionMap_[e],o=""+h+e;return n?n.subscription&&n.subscription.unsubscribe():(this.$collectionMap_[e]=n={eventName:e},n.action=function(){for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];var c=i[i.length-1];if("function"==typeof c)if(t){var u=function t(){c.apply(void 0,arguments)===!1&&r.removeListener(e,t)};r.on(e,u)}else r.once(e,c);r.emit.apply(r,[o].concat(i))},n.stream=l.Observable.fromEvent(this,o)),n}},{key:"addPureSubscribe",value:function(e,t,r){var n=this.createEvent(e),o=t;return t=function(){return n.stream.flatMap(o)},this.addSubscribe(e,t,r)}},{key:"addSubscribe",value:function(e,t,r){var n=this.createEvent(e),o=t(n.stream,n.action,n.polling);if(o&&(n.source=o.cache(1),this.addSubscription(n)),r)var i=setTimeout(function(){clearTimeout(i),n.action()});return n}},{key:"pollingSubscribe",value:function(e,t,r){var n=this.createEvent(e,1),o={},i={};return n.polling=function(e){var t=Object.assign({delay:5e3,data:i,checkSuccess:function(e){return!0},action:null},e);return t.delay||(t.delay=5e3),t.action?l.Observable.of(t.data).expand(function(e){if(e===i||t.checkSuccess(e)){var r=t.action(e,o);return r instanceof l.Observable?r:l.Observable.from(r).delay(t.delay)}return l.Observable.of(o)}).takeWhile(function(e){return e!=o}):l.Observable.of(o)},n.polling.stopFlag=o,n.polling.startFlag=i,this.addSubscribe(e,t,r)}},{key:"addSubscription",value:function(e){var t=this,r=e.source.catch(function(n){return t.emit(e.eventName,n),r});e.subscription=r.subscribe(function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];t.emit.apply(t,[e.eventName,null].concat(n))},function(r){t.emit(e.eventName,r)})}},{key:"getAction",value:function(e){return this.$collectionMap_[e]&&this.$collectionMap_[e].action}},{key:"getActions",value:function(){var e={};for(var t in this.$collectionMap_)e["do"+(0,f.ucfirst)(t)]=this.$collectionMap_[t].action;return e}},{key:"removeSubscription",value:function(e){e.subscription.unsubscribe()}},{key:"getEvent",value:function(e){return this.$collectionMap_[e]}},{key:"select",value:function(){var e=Array.prototype.slice.call(arguments,0);if(e[e.length-1]===!0)return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"select",this).call(this,e[0]);var r=this.getAppStore();if(r.liftedStore&&r.liftedStore.select){var o;return(o=r.liftedStore).select.apply(o,n(e))}if(r.select)return r.select.apply(r,n(e));throw new Error("store类型不为Observable，需要更新redux为rxjs-redux")}},{key:"selectable",value:function(){return p.selectable(this.select.apply(this,arguments))}},{key:"destroy",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this);for(var e in this.$collectionMap_)this.$collectionMap_[e].subscription&&this.$collectionMap_[e].subscription.unsubscribe()}}]),t}(a.BaseSelector);e.exports=d},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(4),l=r(37),p=n(l),h=r(35),d=function(e){return function(t){var r=(0,h.createEagerFactory)(t);return function(t){function n(t,r){i(this,n);var c=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));c.state={},c.stateUpdater={};var u=function(t){c.state[t]="function"==typeof e[t].value?e[t].value.call(c,c.props):e[t].value,c.stateUpdater[e[t].setter]=function(e,r){return c.setState(function(r){var n=r.stateName;return o({},t,"function"==typeof e?e.call(c,n):e)},r)}};for(var a in e)u(a);return c}return c(n,t),a(n,[{key:"render",value:function(){return r(u({},this.props,this.state,this.stateUpdater))}}]),n}(f.Component)}};t.default=(0,p.default)(d,"withState"),e.exports=t.default},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){
var s=i>=0?arguments[i]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,o="/"===s.charAt(0))}return t=r(n(t.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===s(e,-1);return e=r(n(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var o=n(e.split("/")),i=n(r.split("/")),s=Math.min(o.length,i.length),c=s,u=0;u<s;u++)if(o[u]!==i[u]){c=u;break}for(var a=[],u=c;u<o.length;u++)a.push("..");return a=a.concat(i.slice(c)),a.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},t.basename=function(e,t){var r=i(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return i(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(t,r(73))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function s(){b&&h&&(b=!1,h.length?d=h.concat(d):y=-1,d.length&&c())}function c(){if(!b){var e=o(s);b=!0;for(var t=d.length;t;){for(h=d,d=[];++y<t;)h&&h[y].run();y=-1,t=d.length}h=null,b=!1,i(e)}}function u(e,t){this.fun=e,this.array=t}function a(){}var f,l,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var h,d=[],b=!1,y=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new u(e,t)),1!==d.length||b||o(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=a,p.addListener=a,p.once=a,p.off=a,p.removeListener=a,p.removeAllListeners=a,p.emit=a,p.prependListener=a,p.prependOnceListener=a,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t){e.exports=u},function(e,t){e.exports=a},function(e,t){e.exports=f},function(e,t){e.exports=l},function(e,t){e.exports=p},function(e,t){e.exports=h},function(e,t){e.exports=d},function(e,t){e.exports=b}])});